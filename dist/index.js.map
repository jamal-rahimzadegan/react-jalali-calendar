{"version":3,"file":"index.js","sources":["../src/lib/calender-context.ts","../src/components/header/styles.ts","../src/constant/index.ts","../src/tools/persian-date-tools.ts","../src/components/header/Header.tsx","../src/components/RenderDays.tsx","../src/utils/index.ts","../src/theme/colors.ts","../src/index.tsx"],"sourcesContent":["import { Context, createContext } from 'react'\n\ninterface CalenderSharedItems {\n  year?: number\n  setYear: Function\n  month?: number\n  setMonth: Function\n  selectedDay?: DateItem\n  daysRange?: DayRange\n  setDaysRange?: Function\n  setSelectedDay?: Function\n  selectMethod?: DaySelectType\n  onSelect?: (day: DateItem) => void\n  lookAndFeel: StyleObject\n}\n\n// @ts-ignore\nconst CalenderContext: Context<CalenderSharedItems> = createContext({})\nexport default CalenderContext\n","import styled from 'styled-components'\n\nconst StyledHeader = styled.header`\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  padding: 10px 0;\n  border-bottom: ${({ lookAndFeel, theme }) =>\n    `1px solid ${lookAndFeel.headBorderColor || theme.BORDER}`};\n\n  button {\n    cursor: pointer;\n    color: ${({ lookAndFeel }) => lookAndFeel.headTitleColor};\n    background: ${({ lookAndFeel }) =>\n      lookAndFeel.headBtnColor || 'transparent'};\n  }\n`\n\nexport { StyledHeader }\n","// @ts-nocheck\nconst REGEX = {\n  PER_NUM: /[۰-۹]/g,\n  EN_NUM: /[0-9]/g\n}\n\nenum COLORS {\n  TXT_FIRST = '#D2D2D2',\n  TRANSPARENT = 'transparent',\n  ACCENT = '#273c75',\n  HOLIDAY_BG = '#473938',\n  HOLIDAY_TXT = '#E56C6E',\n  NORMAL_DAY_BG = '#3F3F3F',\n  TODAY_BG = '#2a2a2a',\n  BORDER = '#414141'\n}\n\nenum WEEK_DAYS {\n  'Saturday' = 'شنبه',\n  'Sunday' = 'یکشنبه',\n  'Monday' = 'دوشنبه',\n  'Tuesday' = 'سه شنبه',\n  'Wednesday' = 'چهارشنبه',\n  'Thursday' = 'پنجشنبه',\n  'Friday' = 'جمعه'\n}\n\nenum PERSIAN_MONTH {\n  فروردین,\n  اردیبهشت,\n  خرداد,\n  تیر,\n  مرداد,\n  شهریور,\n  مهر,\n  آبان,\n  آذر,\n  دی,\n  بهمن,\n  اسفند\n}\n\nexport { REGEX, COLORS,WEEK_DAYS, PERSIAN_MONTH }\n","//@ts-nocheck\nimport jalaali, { JalaaliDateObject } from 'jalaali-js'\nimport { PERSIAN_MONTH } from '../constant'\n\nclass PersianDateTools {\n  private readonly locale: 'fa' | 'en'\n  private readonly todayDateIntl: Date\n  private readonly todayDatePer: JalaaliDateObject\n  private static instance: PersianDateTools\n\n  private constructor() {\n    this.locale = 'fa'\n    this.todayDateIntl = new Date(Date.now())\n    this.todayDatePer = jalaali.toJalaali(this.todayDateIntl)\n  }\n\n  static getSingletonInstance(): PersianDateTools {\n    if (!PersianDateTools.instance)\n      PersianDateTools.instance = new PersianDateTools()\n    return PersianDateTools.instance\n  }\n\n  private grabDate(options: Intl.DateTimeFormatOptions): number | string {\n    return this.todayDateIntl.toLocaleDateString(this.locale, options)\n  }\n\n  private convertToIntlDate = (\n    year: number,\n    month: number,\n    day: number\n  ): Date => {\n    return jalaali.jalaaliToDateObject(year, month, day)\n  }\n\n  get currentDate(): CurrentDate {\n    return {\n      year: this.todayDatePer.jy,\n      month: {\n        number: this.todayDatePer.jm,\n        name: this.grabDate({ month: 'long' })\n      },\n      day: {\n        number: this.todayDatePer.jd,\n        name: this.grabDate({ weekday: 'long' })\n      }\n    }\n  }\n\n  getMonthNameByNumber(num: number): string {\n    return PERSIAN_MONTH[num - 1]\n  }\n\n  getMonthLength = (year: number, month: number): number => {\n    return jalaali.jalaaliMonthLength(year, month)\n  }\n\n  getFirstDayOfMonth(year: number, month: number): number {\n    return this.convertToIntlDate(year, month, 2).getDay()\n  }\n\n  isOnCurrentMonth(monthNumber: number): boolean {\n    return (\n      this.getMonthNameByNumber(monthNumber) === this.currentDate.month.name\n    )\n  }\n\n  isToday(year: number, month: number, day: number): boolean {\n    if (year !== this.currentDate.year) return false\n    if (month !== this.currentDate.month.number) return false\n\n    return day === this.todayDatePer.jd\n  }\n\n  isFriday(dayInWeek: number): boolean {\n    // 6th day of the week in the persian calendar is Friday\n    return dayInWeek === 6\n  }\n}\n\nexport default PersianDateTools.getSingletonInstance()\n","import React, { useContext } from 'react'\nimport CalenderContext from 'lib/calender-context'\nimport { StyledHeader } from './styles'\nimport { perDate } from 'tools'\n\nexport default function Header() {\n  const { year, month, setMonth, setYear, lookAndFeel } =\n    useContext(CalenderContext)\n\n  const changeMonth = (action: MontSwitchType) => {\n    if (action === 'prev') {\n      if (month >= 2) return setMonth(month - 1)\n      else {\n        setYear(year - 1)\n        setMonth(12)\n      }\n    }\n\n    if (action === 'next') {\n      if (month <= 11) return setMonth(month + 1)\n      else {\n        setYear(year + 1)\n        setMonth(1)\n      }\n    }\n  }\n\n  return (\n    <StyledHeader lookAndFeel={lookAndFeel}>\n      <button onClick={() => changeMonth('prev')} children='‹' />\n      <p>\n        {perDate.getMonthNameByNumber(month)} {year}\n      </p>\n      <button onClick={() => changeMonth('next')} children='›' />\n    </StyledHeader>\n  )\n}\n","import React, { useContext } from \"react\";\nimport CalenderContext from \"../lib/calender-context\";\nimport { COLORS, WEEK_DAYS } from \"../constant\";\nimport perDate from \"../tools/persian-date-tools\";\n\ninterface Props {\n  week: Week;\n}\n\nexport default function RenderDays(props: Props) {\n  const { week } = props;\n  const {\n    year,\n    month,\n    selectMethod,\n    selectedDay,\n    setSelectedDay,\n    onSelect,\n    lookAndFeel\n  } = useContext(CalenderContext);\n  const {\n    currentDayBg,\n    dayTextColor,\n    holidayText,\n    holidayBg,\n    currentDayText,\n    dayBgColor,\n    todayBg,\n    todayTxtColor\n  } = lookAndFeel;\n\n  const checkIfSelectedDay = (dayValue: number): boolean => {\n    if (!dayValue) return false;\n    return selectedDay?.dayNumber === dayValue;\n  };\n\n  const applyDayTxtColor = (dayInWeek: number, dayValue: number): string => {\n    if (perDate.isToday(year, month, dayValue)) return todayTxtColor;\n    if (checkIfSelectedDay(dayValue)) return currentDayText || COLORS.TXT_FIRST;\n    if (perDate.isFriday(dayInWeek)) return holidayText || COLORS.HOLIDAY_BG;\n    else return dayTextColor || COLORS.TXT_FIRST;\n  };\n\n  const applyDyBgColor = (dayValue: number, dayInWeek: number): string => {\n    const { HOLIDAY_BG, TODAY_BG, TRANSPARENT, NORMAL_DAY_BG, ACCENT } = COLORS;\n\n    if (!dayValue) return TRANSPARENT;\n    if (checkIfSelectedDay(dayValue)) return currentDayBg || ACCENT;\n    if (perDate.isToday(year, month, dayValue)) return todayBg || TODAY_BG;\n    if (perDate.isFriday(+dayInWeek)) return holidayBg || HOLIDAY_BG;\n\n    return dayBgColor || NORMAL_DAY_BG;\n  };\n\n  const handleDayClick = (dayValue: number, dayInWeek: number) => {\n    if (!dayValue) return;\n\n    let selectionInfo;\n    const clickedDayInfo = {\n      year,\n      month,\n      dayNumber: dayValue,\n      dayLabel: Object.values(WEEK_DAYS)[dayInWeek]\n    };\n\n    if (selectMethod === \"single\") selectionInfo = pickSingleDay(clickedDayInfo);\n    if (selectMethod === \"range\") {\n      // Todo: implement it later\n      // selectionInfo = pickSeveralDays(clickedDayInfo)\n    }\n\n    onSelect(selectionInfo);\n  };\n\n  const pickSingleDay = (clickedDayInfo: DateItem) => {\n    setSelectedDay(\n      selectedDay?.dayNumber === clickedDayInfo.dayNumber ? {} : clickedDayInfo\n    );\n    return clickedDayInfo;\n  };\n\n  const pickSeveralDays = (clickedDayInfo: DateItem) => {\n    // Todo: implement it later\n    // const { start, end } = daysRange || {}\n    // if (!start) return setDaysRange({ start: clickedDayInfo })\n    // if (!end) return setDaysRange({ start, end: clickedDayInfo })\n    // if (start?.dayNumber && end?.dayNumber)\n    //   return setDaysRange({ start: clickedDayInfo })\n  };\n\n  return (\n    <tr>\n      {Object.entries(week).map(([dayInWeek, dayValue], i) => (\n        <td\n          key={dayValue || (dayInWeek + `${i}`)}\n          onClick={() => handleDayClick(dayValue, +dayInWeek)}\n          style={{\n            color: applyDayTxtColor(+dayInWeek, dayValue),\n            backgroundColor: applyDyBgColor(dayValue, +dayInWeek)\n          }}\n        >\n          {dayValue}\n        </td>\n      ))}\n    </tr>\n  );\n}\n","function generateArr(length: number, formatArr?: Function): any[] {\n  return Array.from({ length }, (v, k) => !!formatArr && formatArr(v, k));\n}\n\nexport {generateArr}\n","export enum COLORS {\n  TXT_FIRST = \"#D2D2D2\",\n  TRANSPARENT = \"transparent\",\n  ACCENT = \"#273c75\",\n  HOLIDAY_BG = \"#473938\",\n  HOLIDAY_TXT = \"#E56C6E\",\n  NORMAL_DAY_BG = \"#3F3F3F\",\n  TODAY_BG = \"#2a2a2a\",\n  BORDER = \"#414141\"\n}\n\n","// @ts-nocheck\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { ThemeProvider } from \"styled-components\";\nimport Header from \"./components/header/Header\";\nimport CalenderContext from \"./lib/calender-context\";\nimport RenderDays from \"./components/RenderDays\";\nimport perDate from \"./tools/persian-date-tools\";\nimport { WEEK_DAYS } from \"./constant\";\nimport { generateArr } from \"./utils\";\nimport styles from \"./lib/style.module.css\";\nimport { COLORS } from \"./theme/colors\";\nimport \"./assets/styles/index.css\";\n\ninterface Props {\n  onSelect: (day: DateItem) => void;\n  style?: StyleObject;\n  className?: string;\n}\n\nexport function Calendar(props: Props): JSX.Element {\n  const { onSelect, style, className = \"\" } = props;\n  const { currentDate } = perDate;\n  const [year, setYear] = useState<number>(currentDate.year);\n  const [month, setMonth] = useState<number>(currentDate.month.number);\n  const [selectedDay, setSelectedDay] = useState<DateItem>({});\n  const [daysRange, setDaysRange] = useState<DayRange>({});\n  const selectMethod: DaySelectType = \"single\";\n  const monthLength: number = perDate.getMonthLength(year, month);\n  const firstDayOfMonth: number = perDate.getFirstDayOfMonth(year, month);\n  const calenderRowWeek = firstDayOfMonth > 4 ? 6 : 5; // 4 === Wednesday\n\n  const generateCalenderWeeks = (): (() => Week[]) => {\n    let currentDay: number = 1;\n\n    const getDayValue = (weekDayNumber: number, i: number): number => {\n      if (currentDay > monthLength) return;\n      if (i !== 0) return currentDay++;\n      if (i === 0 && weekDayNumber >= firstDayOfMonth) return currentDay++;\n    };\n\n    const createWeekData = (i) => {\n      const data = {};\n      generateArr(7).forEach((item, j) => (data[j] = getDayValue(j, i)));\n      return data;\n    };\n\n    return () =>\n      generateArr(calenderRowWeek).map((item: Week, i) => createWeekData(i));\n  };\n\n  const calenderWeekList = generateCalenderWeeks();\n\n  const resetSelectedDay = () => selectMethod === \"single\" && setSelectedDay({});\n\n  const sharedItems = {\n    year,\n    month,\n    selectedDay,\n    daysRange,\n    setDaysRange,\n    setSelectedDay,\n    selectMethod,\n    setMonth,\n    setYear,\n    onSelect,\n    lookAndFeel: style\n  };\n\n\n  useEffect(resetSelectedDay, [month, year]);\n\n  return (\n    <ThemeProvider theme={COLORS}>\n      <CalenderContext.Provider value={sharedItems}>\n        <Header />\n        <div className={styles.calender + \" \" + className}>\n          <table>\n            <thead>\n            <tr\n              style={{\n                color: style.weekDayNameColor,\n                background: style.weekDayNameBg || \"transparent\"\n              }}\n            >\n              {Object.values(WEEK_DAYS).map((dayItem) => (\n                <td key={dayItem}>{dayItem}</td>\n              ))}\n            </tr>\n            </thead>\n            <tbody>\n            {calenderWeekList().map((week, i) => (\n              <Fragment key={i + Math.random()}>\n                <RenderDays week={week} />\n              </Fragment>\n            ))}\n            </tbody>\n          </table>\n        </div>\n      </CalenderContext.Provider>\n    </ThemeProvider>\n  );\n}\n"],"names":["CalenderContext","createContext","StyledHeader","styled","header","lookAndFeel","theme","headBorderColor","BORDER","headTitleColor","headBtnColor","COLORS","WEEK_DAYS","PERSIAN_MONTH","PersianDateTools","year","month","day","jalaali","jalaaliToDateObject","jalaaliMonthLength","locale","todayDateIntl","Date","now","todayDatePer","toJalaali","getSingletonInstance","instance","grabDate","options","toLocaleDateString","getMonthNameByNumber","num","getFirstDayOfMonth","convertToIntlDate","getDay","isOnCurrentMonth","monthNumber","currentDate","name","isToday","number","jd","isFriday","dayInWeek","jy","jm","weekday","Header","useContext","setMonth","setYear","changeMonth","action","React","onClick","children","perDate","RenderDays","props","week","selectMethod","selectedDay","setSelectedDay","onSelect","currentDayBg","dayTextColor","holidayText","holidayBg","currentDayText","dayBgColor","todayBg","todayTxtColor","checkIfSelectedDay","dayValue","dayNumber","applyDayTxtColor","TXT_FIRST","HOLIDAY_BG","applyDyBgColor","TODAY_BG","TRANSPARENT","NORMAL_DAY_BG","ACCENT","handleDayClick","selectionInfo","clickedDayInfo","dayLabel","Object","values","pickSingleDay","entries","map","i","key","style","color","backgroundColor","generateArr","length","formatArr","Array","from","v","k","Calendar","className","useState","daysRange","setDaysRange","monthLength","getMonthLength","firstDayOfMonth","calenderRowWeek","generateCalenderWeeks","currentDay","getDayValue","weekDayNumber","createWeekData","data","forEach","item","j","calenderWeekList","resetSelectedDay","sharedItems","useEffect","ThemeProvider","Provider","value","styles","calender","weekDayNameColor","background","weekDayNameBg","dayItem","Fragment","Math","random"],"mappings":"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"}