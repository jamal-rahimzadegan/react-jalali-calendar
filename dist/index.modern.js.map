{"version":3,"file":"index.modern.js","sources":["../src/lib/constants.ts","../src/lib/persian-date-tools.ts","../src/lib/calender-context.ts","../src/lib/components/CalenderHeader.tsx","../src/lib/components/RenderDays.tsx","../src/lib/utils.ts","../src/index.tsx"],"sourcesContent":["// @ts-nocheck\nconst REGEX = {\n  PER_NUM: /[۰-۹]/g,\n  EN_NUM: /[0-9]/g\n}\n\nenum COLORS {\n  TXT_FIRST = '#D2D2D2',\n  TRANSPARENT = 'transparent',\n  ACCENT = '#273c75',\n  HOLIDAY_BG = '#473938',\n  HOLIDAY_TXT = '#E56C6E',\n  NORMAL_DAY_BG = '#3F3F3F',\n  TODAY_BG = '#2a2a2a',\n  BORDER = '#414141'\n}\n\nenum WEEK_DAYS {\n  'Saturday' = 'شنبه',\n  'Sunday' = 'یکشنبه',\n  'Monday' = 'دوشنبه',\n  'Tuesday' = 'سه شنبه',\n  'Wednesday' = 'چهارشنبه',\n  'Thursday' = 'پنجشنبه',\n  'Friday' = 'جمعه'\n}\n\nenum PERSIAN_MONTH {\n  فروردین,\n  اردیبهشت,\n  خرداد,\n  تیر,\n  مرداد,\n  شهریور,\n  مهر,\n  آبان,\n  آذر,\n  دی,\n  بهمن,\n  اسفند\n}\n\nexport { REGEX, COLORS, WEEK_DAYS, PERSIAN_MONTH }\n","//@ts-nocheck\nimport jalaali, { JalaaliDateObject } from 'jalaali-js'\nimport { PERSIAN_MONTH } from './constants'\n\nclass PersianDateTools {\n  private readonly locale: 'fa' | 'en'\n  private readonly todayDateIntl: Date\n  private readonly todayDatePer: JalaaliDateObject\n  private static instance: PersianDateTools\n\n  private constructor() {\n    this.locale = 'fa'\n    this.todayDateIntl = new Date(Date.now())\n    this.todayDatePer = jalaali.toJalaali(this.todayDateIntl)\n  }\n\n  static getSingletonInstance(): PersianDateTools {\n    if (!PersianDateTools.instance)\n      PersianDateTools.instance = new PersianDateTools()\n    return PersianDateTools.instance\n  }\n\n  private grabDate(options: Intl.DateTimeFormatOptions): number | string {\n    return this.todayDateIntl.toLocaleDateString(this.locale, options)\n  }\n\n  private convertToIntlDate = (\n    year: number,\n    month: number,\n    day: number\n  ): Date => {\n    return jalaali.jalaaliToDateObject(year, month, day)\n  }\n\n  get currentDate(): CurrentDate {\n    return {\n      year: this.todayDatePer.jy,\n      month: {\n        number: this.todayDatePer.jm,\n        name: this.grabDate({ month: 'long' })\n      },\n      day: {\n        number: this.todayDatePer.jd,\n        name: this.grabDate({ weekday: 'long' })\n      }\n    }\n  }\n\n  getMonthNameByNumber(num: number): string {\n    return PERSIAN_MONTH[num - 1]\n  }\n\n  getMonthLength = (year: number, month: number): number => {\n    return jalaali.jalaaliMonthLength(year, month)\n  }\n\n  getFirstDayOfMonth(year: number, month: number): number {\n    return this.convertToIntlDate(year, month, 2).getDay()\n  }\n\n  isOnCurrentMonth(monthNumber: number): boolean {\n    return (\n      this.getMonthNameByNumber(monthNumber) === this.currentDate.month.name\n    )\n  }\n\n  isToday(year: number, month: number, day: number): boolean {\n    if (year !== this.currentDate.year) return false\n    if (month !== this.currentDate.month.number) return false\n\n    return day === this.todayDatePer.jd\n  }\n\n  isFriday(dayInWeek: number): boolean {\n    // 6th day of the week in the persian calendar is Friday\n    return dayInWeek === 6\n  }\n}\n\nexport default PersianDateTools.getSingletonInstance()\n","import { Context, createContext } from 'react'\n\ninterface CalenderSharedItems {\n  year?: number\n  setYear: Function\n  month?: number\n  setMonth: Function\n  selectedDay?: DateItem\n  daysRange?: DayRange\n  setDaysRange?: Function\n  setSelectedDay?: Function\n  selectMethod?: DaySelectType\n  onSelect?: (day: DateItem) => void\n  style: StyleObject\n}\n\n// @ts-ignore\nconst CalenderContext: Context<CalenderSharedItems> = createContext({})\nexport default CalenderContext\n","import React, { useContext } from 'react'\nimport perDate from '../persian-date-tools'\nimport CalenderContext from '../calender-context'\nimport styles from '../style.module.css'\n\nexport default function CalenderHeader() {\n  const { year, month, setMonth, setYear, style } = useContext(CalenderContext)\n\n  const changeMonth = (action: MontSwitchType) => {\n    if (action === 'prev') {\n      if (month >= 2) return setMonth(month - 1)\n      else {\n        setYear(year - 1)\n        setMonth(12)\n      }\n    }\n\n    if (action === 'next') {\n      if (month <= 11) return setMonth(month + 1)\n      else {\n        setYear(year + 1)\n        setMonth(1)\n      }\n    }\n  }\n\n  return (\n    <div className={styles.calender__header}>\n      <button\n        style={{\n          color: style.headTitleColor,\n          background: style.headBtnColor\n        }}\n        onClick={() => changeMonth('prev')}\n        children='‹'\n      />\n      <p\n        style={{\n          color: style.headTitleColor\n        }}\n      >\n        {perDate.getMonthNameByNumber(month)} {year}\n      </p>\n      <button\n        style={{\n          color: style.headTitleColor,\n          background: style.headBtnColor\n        }}\n        onClick={() => changeMonth('next')}\n        children='›'\n      />\n    </div>\n  )\n}\n","import React, { useContext } from 'react'\nimport CalenderContext from '../calender-context'\nimport { COLORS, WEEK_DAYS } from '../constants'\nimport perDate from '../persian-date-tools'\n\ninterface Props {\n  week: Week\n}\n\nexport default function RenderDays(props: Props) {\n  const { week } = props\n  const {\n    year,\n    month,\n    selectMethod,\n    selectedDay,\n    setSelectedDay,\n    onSelect,\n    style\n  } = useContext(CalenderContext)\n  const {\n    currentDayBg,\n    dayTextColor,\n    holidayText,\n    holidayBg,\n    currentDayText,\n    dayBgColor,\n    todayBg,\n    todayTxtColor\n  } = style\n\n  const checkIfSelectedDay = (dayValue: number): boolean => {\n    if (!dayValue) return false\n    return selectedDay?.dayNumber === dayValue\n  }\n\n  const applyDayTxtColor = (dayInWeek: number, dayValue: number): string => {\n    if (perDate.isToday(year, month, dayValue)) return todayTxtColor\n    if (checkIfSelectedDay(dayValue)) return currentDayText || COLORS.TXT_FIRST\n    if (perDate.isFriday(dayInWeek)) return holidayText || COLORS.HOLIDAY_BG\n    else return dayTextColor || COLORS.TXT_FIRST\n  }\n\n  const applyBgColor = (dayValue: number, dayInWeek: number): string => {\n    const { HOLIDAY_BG, TODAY_BG, TRANSPARENT, NORMAL_DAY_BG, ACCENT } = COLORS\n\n    if (!dayValue) return TRANSPARENT\n    if (checkIfSelectedDay(dayValue)) return currentDayBg || ACCENT\n    if (perDate.isToday(year, month, dayValue)) return todayBg || TODAY_BG\n    if (perDate.isFriday(+dayInWeek)) return holidayBg || HOLIDAY_BG\n\n    return dayBgColor || NORMAL_DAY_BG\n  }\n\n  const handleDayClick = (dayValue: number, dayInWeek: number) => {\n    if (!dayValue) return\n\n    let selectionInfo\n    const clickedDayInfo = {\n      year,\n      month,\n      dayNumber: dayValue,\n      dayLabel: Object.values(WEEK_DAYS)[dayInWeek]\n    }\n\n    if (selectMethod === 'single') selectionInfo = pickSingleDay(clickedDayInfo)\n    if (selectMethod === 'range') {\n      // Todo: implement it later\n      // selectionInfo = pickSeveralDays(clickedDayInfo)\n    }\n\n    onSelect(selectionInfo)\n  }\n\n  const pickSingleDay = (clickedDayInfo: DateItem) => {\n    setSelectedDay(\n      selectedDay?.dayNumber === clickedDayInfo.dayNumber ? {} : clickedDayInfo\n    )\n    return clickedDayInfo\n  }\n\n  const pickSeveralDays = (clickedDayInfo: DateItem) => {\n    // Todo: implement it later\n    // const { start, end } = daysRange || {}\n    // if (!start) return setDaysRange({ start: clickedDayInfo })\n    // if (!end) return setDaysRange({ start, end: clickedDayInfo })\n    // if (start?.dayNumber && end?.dayNumber)\n    //   return setDaysRange({ start: clickedDayInfo })\n  }\n\n  return (\n    <tr>\n      {Object.entries(week).map(([dayInWeek, dayValue]) => (\n        <td\n          key={dayValue as number}\n          onClick={() => handleDayClick(dayValue, +dayInWeek)}\n          style={{\n            color: applyDayTxtColor(+dayInWeek, dayValue),\n            backgroundColor: applyBgColor(dayValue, +dayInWeek)\n          }}\n        >\n          {dayValue}\n        </td>\n      ))}\n    </tr>\n  )\n}\n","function generateArr(length: number, formatArr?: Function): any[] {\n  return Array.from({ length }, (v, k) => !!formatArr && formatArr(v, k));\n}\n\nexport {generateArr}\n","// @ts-nocheck\nimport React, { Fragment, useEffect, useState } from 'react'\nimport CalenderHeader from './lib/components/CalenderHeader'\nimport CalenderContext from './lib/calender-context'\nimport RenderDays from './lib/components/RenderDays'\nimport perDate from './lib/persian-date-tools'\nimport { WEEK_DAYS } from './lib/constants'\nimport { generateArr } from './lib/utils'\nimport styles from './lib/style.module.css'\n\ninterface Props {\n  onSelect: (day: DateItem) => void\n  style?: StyleObject\n  className?: string\n}\n\nexport function Calendar(props: Props): JSX.Element {\n  const { onSelect, style, className = '' } = props\n  const { currentDate } = perDate\n  const [year, setYear] = useState<number>(currentDate.year)\n  const [month, setMonth] = useState<number>(currentDate.month.number)\n  const [selectedDay, setSelectedDay] = useState<DateItem>({})\n  const [daysRange, setDaysRange] = useState<DayRange>({})\n  const selectMethod: DaySelectType = 'single'\n  const monthLength: number = perDate.getMonthLength(year, month)\n  const firstDayOfMonth: number = perDate.getFirstDayOfMonth(year, month)\n  const calenderRowWeek = firstDayOfMonth > 4 ? 6 : 5 // 4 === Wednesday\n\n  const generateCalenderWeeks = (): (() => Week[]) => {\n    let currentDay: number = 1\n\n    const getDayValue = (weekDayNumber: number, i: number): number => {\n      if (currentDay > monthLength) return\n      if (i !== 0) return currentDay++\n      if (i === 0 && weekDayNumber >= firstDayOfMonth) return currentDay++\n    }\n\n    const createWeekData = (i) => {\n      const data = {}\n      generateArr(7).forEach((item, j) => (data[j] = getDayValue(j, i)))\n      return data\n    }\n\n    return () =>\n      generateArr(calenderRowWeek).map((item: Week, i) => createWeekData(i))\n  }\n\n  const calenderWeekList = generateCalenderWeeks()\n\n  const resetSelectedDay = () => selectMethod === 'single' && setSelectedDay({})\n\n  const sharedItems = {\n    year,\n    month,\n    selectedDay,\n    daysRange,\n    setDaysRange,\n    setSelectedDay,\n    selectMethod,\n    setMonth,\n    setYear,\n    onSelect,\n    style\n  }\n\n  useEffect(resetSelectedDay, [month, year])\n\n  return (\n    <CalenderContext.Provider value={sharedItems}>\n      <CalenderHeader />\n      <div className={styles.calender + ' ' + className}>\n        <table>\n          <thead>\n            <tr\n              style={{\n                color: style.weekDayNameColor,\n                background: style.weekDayNameBg || 'transparent'\n              }}\n            >\n              {Object.values(WEEK_DAYS).map((dayItem) => (\n                <td key={dayItem}>{dayItem}</td>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {calenderWeekList().map((week, i) => (\n              <Fragment key={i + Math.random()}>\n                <RenderDays week={week} />\n              </Fragment>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </CalenderContext.Provider>\n  )\n}\n"],"names":["COLORS","WEEK_DAYS","PERSIAN_MONTH","PersianDateTools","constructor","year","month","day","jalaali","jalaaliToDateObject","jalaaliMonthLength","locale","todayDateIntl","Date","now","todayDatePer","toJalaali","getSingletonInstance","instance","grabDate","options","toLocaleDateString","currentDate","jy","number","jm","name","jd","weekday","getMonthNameByNumber","num","getFirstDayOfMonth","convertToIntlDate","getDay","isOnCurrentMonth","monthNumber","isToday","isFriday","dayInWeek","CalenderContext","createContext","CalenderHeader","setMonth","setYear","style","useContext","changeMonth","action","React","className","styles","calender__header","color","headTitleColor","background","headBtnColor","onClick","children","perDate","RenderDays","props","week","selectMethod","selectedDay","setSelectedDay","onSelect","currentDayBg","dayTextColor","holidayText","holidayBg","currentDayText","dayBgColor","todayBg","todayTxtColor","checkIfSelectedDay","dayValue","dayNumber","applyDayTxtColor","TXT_FIRST","HOLIDAY_BG","applyBgColor","TODAY_BG","TRANSPARENT","NORMAL_DAY_BG","ACCENT","handleDayClick","selectionInfo","clickedDayInfo","dayLabel","Object","values","pickSingleDay","entries","map","key","backgroundColor","generateArr","length","formatArr","Array","from","v","k","Calendar","useState","daysRange","setDaysRange","monthLength","getMonthLength","firstDayOfMonth","calenderRowWeek","generateCalenderWeeks","currentDay","getDayValue","weekDayNumber","i","createWeekData","data","forEach","item","j","calenderWeekList","resetSelectedDay","sharedItems","useEffect","Provider","value","calender","weekDayNameColor","weekDayNameBg","dayItem","Fragment","Math","random"],"mappings":"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"}